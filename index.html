<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flipbook RTL</title>

  <!-- لازم يكونوا موجودين بنفس المجلد -->
  <script src="jquery.min.js"></script>
  <script src="turn.min.js"></script>

  <style>
    /* صفحة كاملة في المنتصف */
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#f2f2f2;
      font-family: Arial, sans-serif;
    }

    /* حجم الكتاب النهائي = 600x600 (مربع) */
    #book{
      width:600px;
      height:600px;
    }

    /* كل صفحة بنفس حجم الكتاب */
    .page{
      width:600px;
      height:600px;
      background:#fff;
      overflow:hidden;
      position:relative;
    }

    .page img{
      width:100%;
      height:100%;
      object-fit:contain; /* لو بدك قصّ بدل احتواء: غيّريها cover */
      display:block;
      background:#fff;
    }

    /* تحسين بسيط للموبايل: يصغر تلقائيًا */
    @media (max-width: 650px){
      #book, .page{
        width: 92vw;
        height: 92vw;
      }
    }
  </style>
</head>

<body>

  <div id="book"></div>

  <script>
    // =========================
    // إعداداتك
    // =========================
    const TOTAL_PAGES = 25;

    // إذا صورك داخل مجلد pages فقط، خليها: "pages/"
    // وإذا صورك بجانب index.html (الروت) خليها: ""
    const IMG_PATH = "";

    // حجم المربع (لا تغيّريه إذا بدك 600x600)
    const BOOK_SIZE = 600;

    // =========================
    // إنشاء الصفحات داخل #book
    // =========================
    function pad2(n){ return String(n).padStart(2,'0'); }

    const bookEl = document.getElementById("book");

    for(let i=1; i<=TOTAL_PAGES; i++){
      const page = document.createElement("div");
      page.className = "page";

      const img = document.createElement("img");
      img.alt = "Page " + i;
      img.src = IMG_PATH + "page" + pad2(i) + ".jpg";

      page.appendChild(img);
      bookEl.appendChild(page);
    }

    // =========================
    // تشغيل Turn.js
    // =========================
    $(function(){
      // ملاحظة:
      // display:'double' = صفحتين مقابل بعض
      // لكن الغلاف (page01) سيظهر لوحده تلقائيًا كصفحة أولى.
      $("#book").turn({
        width: BOOK_SIZE,
        height: BOOK_SIZE,
        autoCenter: true,
        display: "double",
        direction: "rtl",
        gradients: true,
        elevation: 50,
        when: {
          turning: function(e, page){
            // تأكيد أن البداية من اليمين: أول فتح يكون على الغلاف
            // لا شيء إضافي هنا، فقط جاهز للتوسعة لو حبيتي.
          }
        }
      });

      // لو فتح أول مرة مش على الغلاف بسبب الكاش/التحديث:
      $("#book").turn("page", 1);
    });
  </script>

</body>
</html>
